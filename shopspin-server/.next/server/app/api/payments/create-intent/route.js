/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/payments/create-intent/route";
exports.ids = ["app/api/payments/create-intent/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpayments%2Fcreate-intent%2Froute&page=%2Fapi%2Fpayments%2Fcreate-intent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayments%2Fcreate-intent%2Froute.ts&appDir=%2FUsers%2Fsamchou%2FSweepstakes%20Google%20Extension%2Fshopspin-server%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamchou%2FSweepstakes%20Google%20Extension%2Fshopspin-server&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpayments%2Fcreate-intent%2Froute&page=%2Fapi%2Fpayments%2Fcreate-intent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayments%2Fcreate-intent%2Froute.ts&appDir=%2FUsers%2Fsamchou%2FSweepstakes%20Google%20Extension%2Fshopspin-server%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamchou%2FSweepstakes%20Google%20Extension%2Fshopspin-server&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_samchou_Sweepstakes_Google_Extension_shopspin_server_src_app_api_payments_create_intent_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/payments/create-intent/route.ts */ \"(rsc)/./src/app/api/payments/create-intent/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/payments/create-intent/route\",\n        pathname: \"/api/payments/create-intent\",\n        filename: \"route\",\n        bundlePath: \"app/api/payments/create-intent/route\"\n    },\n    resolvedPagePath: \"/Users/samchou/Sweepstakes Google Extension/shopspin-server/src/app/api/payments/create-intent/route.ts\",\n    nextConfigOutput,\n    userland: _Users_samchou_Sweepstakes_Google_Extension_shopspin_server_src_app_api_payments_create_intent_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwYXltZW50cyUyRmNyZWF0ZS1pbnRlbnQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBheW1lbnRzJTJGY3JlYXRlLWludGVudCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBheW1lbnRzJTJGY3JlYXRlLWludGVudCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNhbWNob3UlMkZTd2VlcHN0YWtlcyUyMEdvb2dsZSUyMEV4dGVuc2lvbiUyRnNob3BzcGluLXNlcnZlciUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZzYW1jaG91JTJGU3dlZXBzdGFrZXMlMjBHb29nbGUlMjBFeHRlbnNpb24lMkZzaG9wc3Bpbi1zZXJ2ZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ3VEO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc2FtY2hvdS9Td2VlcHN0YWtlcyBHb29nbGUgRXh0ZW5zaW9uL3Nob3BzcGluLXNlcnZlci9zcmMvYXBwL2FwaS9wYXltZW50cy9jcmVhdGUtaW50ZW50L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wYXltZW50cy9jcmVhdGUtaW50ZW50L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGF5bWVudHMvY3JlYXRlLWludGVudFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcGF5bWVudHMvY3JlYXRlLWludGVudC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9zYW1jaG91L1N3ZWVwc3Rha2VzIEdvb2dsZSBFeHRlbnNpb24vc2hvcHNwaW4tc2VydmVyL3NyYy9hcHAvYXBpL3BheW1lbnRzL2NyZWF0ZS1pbnRlbnQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpayments%2Fcreate-intent%2Froute&page=%2Fapi%2Fpayments%2Fcreate-intent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayments%2Fcreate-intent%2Froute.ts&appDir=%2FUsers%2Fsamchou%2FSweepstakes%20Google%20Extension%2Fshopspin-server%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamchou%2FSweepstakes%20Google%20Extension%2Fshopspin-server&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/payments/create-intent/route.ts":
/*!*****************************************************!*\
  !*** ./src/app/api/payments/create-intent/route.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_stripe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/stripe */ \"(rsc)/./src/lib/stripe.ts\");\n/* harmony import */ var _lib_validation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/validation */ \"(rsc)/./src/lib/validation.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        if (!process.env.STRIPE_SECRET_KEY) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Stripe not configured'\n            }, {\n                status: 500\n            });\n        }\n        const { amount } = await request.json();\n        // Validate input\n        try {\n            if (typeof amount !== 'number' || amount <= 0) {\n                throw new _lib_validation__WEBPACK_IMPORTED_MODULE_2__.ValidationError('Valid amount is required');\n            }\n            if (amount < 0.01) {\n                throw new _lib_validation__WEBPACK_IMPORTED_MODULE_2__.ValidationError('Minimum amount is $0.01');\n            }\n            if (amount > 10000) {\n                throw new _lib_validation__WEBPACK_IMPORTED_MODULE_2__.ValidationError('Maximum amount is $10,000');\n            }\n        } catch (error) {\n            if (error instanceof _lib_validation__WEBPACK_IMPORTED_MODULE_2__.ValidationError) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: error.message\n                }, {\n                    status: 400\n                });\n            }\n            throw error;\n        }\n        // Create payment intent\n        const paymentIntent = await _lib_stripe__WEBPACK_IMPORTED_MODULE_1__.StripeService.createPaymentIntent({\n            amount: Math.round(amount * 100),\n            currency: 'usd',\n            metadata: {\n                stakeAmount: amount.toString()\n            }\n        });\n        console.log(`ðŸ’³ PAYMENT INTENT CREATED: $${amount}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            paymentIntentId: paymentIntent.id,\n            clientSecret: paymentIntent.client_secret\n        });\n    } catch (error) {\n        console.error('ðŸ’³ ERROR: Creating payment intent:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Failed to create payment intent'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wYXltZW50cy9jcmVhdGUtaW50ZW50L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFDRDtBQUcyQjtBQU0zRSxlQUFlRyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixFQUFFO1lBQ2xDLE9BQU9QLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7Z0JBQ3ZCQyxTQUFTO2dCQUNUQyxPQUFPO1lBQ1QsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ25CO1FBRUEsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBK0IsTUFBTVIsUUFBUUksSUFBSTtRQUVqRSxpQkFBaUI7UUFDakIsSUFBSTtZQUNGLElBQUksT0FBT0ksV0FBVyxZQUFZQSxVQUFVLEdBQUc7Z0JBQzdDLE1BQU0sSUFBSVYsNERBQWVBLENBQUM7WUFDNUI7WUFDQSxJQUFJVSxTQUFTLE1BQU07Z0JBQ2pCLE1BQU0sSUFBSVYsNERBQWVBLENBQUM7WUFDNUI7WUFDQSxJQUFJVSxTQUFTLE9BQU87Z0JBQ2xCLE1BQU0sSUFBSVYsNERBQWVBLENBQUM7WUFDNUI7UUFDRixFQUFFLE9BQU9RLE9BQU87WUFDZCxJQUFJQSxpQkFBaUJSLDREQUFlQSxFQUFFO2dCQUNwQyxPQUFPRixxREFBWUEsQ0FBQ1EsSUFBSSxDQUFDO29CQUN2QkMsU0FBUztvQkFDVEMsT0FBT0EsTUFBTUcsT0FBTztnQkFDdEIsR0FBRztvQkFBRUYsUUFBUTtnQkFBSTtZQUNuQjtZQUNBLE1BQU1EO1FBQ1I7UUFFQSx3QkFBd0I7UUFDeEIsTUFBTUksZ0JBQWdCLE1BQU1iLHNEQUFhQSxDQUFDYyxtQkFBbUIsQ0FBQztZQUM1REgsUUFBUUksS0FBS0MsS0FBSyxDQUFDTCxTQUFTO1lBQzVCTSxVQUFVO1lBQ1ZDLFVBQVU7Z0JBQ1JDLGFBQWFSLE9BQU9TLFFBQVE7WUFDOUI7UUFDRjtRQUVBQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyw0QkFBNEIsRUFBRVgsUUFBUTtRQUVuRCxPQUFPWixxREFBWUEsQ0FBQ1EsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RlLGlCQUFpQlYsY0FBY1csRUFBRTtZQUNqQ0MsY0FBY1osY0FBY2EsYUFBYTtRQUMzQztJQUVGLEVBQUUsT0FBT2pCLE9BQU87UUFDZFksUUFBUVosS0FBSyxDQUFDLHNDQUFzQ0E7UUFDcEQsT0FBT1YscURBQVlBLENBQUNRLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUQyxPQUFPO1FBQ1QsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3NhbWNob3UvU3dlZXBzdGFrZXMgR29vZ2xlIEV4dGVuc2lvbi9zaG9wc3Bpbi1zZXJ2ZXIvc3JjL2FwcC9hcGkvcGF5bWVudHMvY3JlYXRlLWludGVudC9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgU3RyaXBlU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9zdHJpcGUnO1xuaW1wb3J0IHsgcHJpc21hRGIgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvZGF0YWJhc2UtcHJpc21hJztcbmltcG9ydCB7IEFwaVJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL3R5cGVzJztcbmltcG9ydCB7IHZhbGlkYXRlU3Rha2VBbW91bnQsIFZhbGlkYXRpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi92YWxpZGF0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVQYXltZW50SW50ZW50UmVxdWVzdCB7XG4gIGFtb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCk6IFByb21pc2U8TmV4dFJlc3BvbnNlPEFwaVJlc3BvbnNlPj4ge1xuICB0cnkge1xuICAgIGlmICghcHJvY2Vzcy5lbnYuU1RSSVBFX1NFQ1JFVF9LRVkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1N0cmlwZSBub3QgY29uZmlndXJlZCdcbiAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBhbW91bnQgfTogQ3JlYXRlUGF5bWVudEludGVudFJlcXVlc3QgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIC8vIFZhbGlkYXRlIGlucHV0XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgYW1vdW50ICE9PSAnbnVtYmVyJyB8fCBhbW91bnQgPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdWYWxpZCBhbW91bnQgaXMgcmVxdWlyZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChhbW91bnQgPCAwLjAxKSB7XG4gICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ01pbmltdW0gYW1vdW50IGlzICQwLjAxJyk7XG4gICAgICB9XG4gICAgICBpZiAoYW1vdW50ID4gMTAwMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignTWF4aW11bSBhbW91bnQgaXMgJDEwLDAwMCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHBheW1lbnQgaW50ZW50XG4gICAgY29uc3QgcGF5bWVudEludGVudCA9IGF3YWl0IFN0cmlwZVNlcnZpY2UuY3JlYXRlUGF5bWVudEludGVudCh7XG4gICAgICBhbW91bnQ6IE1hdGgucm91bmQoYW1vdW50ICogMTAwKSwgLy8gQ29udmVydCB0byBjZW50c1xuICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgc3Rha2VBbW91bnQ6IGFtb3VudC50b1N0cmluZygpLFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coYPCfkrMgUEFZTUVOVCBJTlRFTlQgQ1JFQVRFRDogJCR7YW1vdW50fWApO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBwYXltZW50SW50ZW50SWQ6IHBheW1lbnRJbnRlbnQuaWQsXG4gICAgICBjbGllbnRTZWNyZXQ6IHBheW1lbnRJbnRlbnQuY2xpZW50X3NlY3JldCxcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ/CfkrMgRVJST1I6IENyZWF0aW5nIHBheW1lbnQgaW50ZW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgcGF5bWVudCBpbnRlbnQnXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJTdHJpcGVTZXJ2aWNlIiwiVmFsaWRhdGlvbkVycm9yIiwiUE9TVCIsInJlcXVlc3QiLCJwcm9jZXNzIiwiZW52IiwiU1RSSVBFX1NFQ1JFVF9LRVkiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzIiwiYW1vdW50IiwibWVzc2FnZSIsInBheW1lbnRJbnRlbnQiLCJjcmVhdGVQYXltZW50SW50ZW50IiwiTWF0aCIsInJvdW5kIiwiY3VycmVuY3kiLCJtZXRhZGF0YSIsInN0YWtlQW1vdW50IiwidG9TdHJpbmciLCJjb25zb2xlIiwibG9nIiwicGF5bWVudEludGVudElkIiwiaWQiLCJjbGllbnRTZWNyZXQiLCJjbGllbnRfc2VjcmV0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/payments/create-intent/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/stripe.ts":
/*!***************************!*\
  !*** ./src/lib/stripe.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StripeService: () => (/* binding */ StripeService),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   stripe: () => (/* binding */ stripe),\n/* harmony export */   stripeService: () => (/* binding */ stripeService)\n/* harmony export */ });\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! stripe */ \"(rsc)/./node_modules/stripe/esm/stripe.esm.node.js\");\n\nconst stripe = new stripe__WEBPACK_IMPORTED_MODULE_0__[\"default\"](process.env.STRIPE_SECRET_KEY, {\n    apiVersion: '2024-12-18.acacia'\n});\nclass StripeService {\n    /**\n   * Create a payment intent for a stake amount\n   */ static async createPaymentIntent(params) {\n        return await stripe.paymentIntents.create({\n            amount: params.amount,\n            currency: params.currency,\n            metadata: params.metadata || {},\n            payment_method_types: [\n                'card'\n            ]\n        });\n    }\n    /**\n   * Create a customer for storing payment methods\n   */ static async createCustomer(email, name) {\n        return await stripe.customers.create({\n            email,\n            name\n        });\n    }\n    /**\n   * Retrieve a payment intent\n   */ static async getPaymentIntent(paymentIntentId) {\n        return await stripe.paymentIntents.retrieve(paymentIntentId);\n    }\n    /**\n   * Confirm a payment intent\n   */ static async confirmPaymentIntent(paymentIntentId, paymentMethodId) {\n        return await stripe.paymentIntents.confirm(paymentIntentId, {\n            payment_method: paymentMethodId\n        });\n    }\n    /**\n   * Create a payout for winnings (requires Stripe Connect)\n   */ static async createPayout(amount, destination) {\n        return await stripe.transfers.create({\n            amount,\n            currency: 'usd',\n            destination\n        });\n    }\n    /**\n   * Construct webhook event\n   */ static constructWebhookEvent(payload, signature, endpointSecret) {\n        return stripe.webhooks.constructEvent(payload, signature, endpointSecret);\n    }\n}\n\nconst stripeService = StripeService;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StripeService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N0cmlwZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0QjtBQUU1QixNQUFNQyxTQUFTLElBQUlELDhDQUFNQSxDQUFDRSxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixFQUFHO0lBQ3hEQyxZQUFZO0FBQ2Q7QUFhTyxNQUFNQztJQUNYOztHQUVDLEdBQ0QsYUFBYUMsb0JBQW9CQyxNQUE0QixFQUFpQztRQUM1RixPQUFPLE1BQU1QLE9BQU9RLGNBQWMsQ0FBQ0MsTUFBTSxDQUFDO1lBQ3hDQyxRQUFRSCxPQUFPRyxNQUFNO1lBQ3JCQyxVQUFVSixPQUFPSSxRQUFRO1lBQ3pCQyxVQUFVTCxPQUFPSyxRQUFRLElBQUksQ0FBQztZQUM5QkMsc0JBQXNCO2dCQUFDO2FBQU87UUFDaEM7SUFDRjtJQUVBOztHQUVDLEdBQ0QsYUFBYUMsZUFBZUMsS0FBYSxFQUFFQyxJQUFZLEVBQTRCO1FBQ2pGLE9BQU8sTUFBTWhCLE9BQU9pQixTQUFTLENBQUNSLE1BQU0sQ0FBQztZQUNuQ007WUFDQUM7UUFDRjtJQUNGO0lBRUE7O0dBRUMsR0FDRCxhQUFhRSxpQkFBaUJDLGVBQXVCLEVBQWlDO1FBQ3BGLE9BQU8sTUFBTW5CLE9BQU9RLGNBQWMsQ0FBQ1ksUUFBUSxDQUFDRDtJQUM5QztJQUVBOztHQUVDLEdBQ0QsYUFBYUUscUJBQ1hGLGVBQXVCLEVBQ3ZCRyxlQUF1QixFQUNRO1FBQy9CLE9BQU8sTUFBTXRCLE9BQU9RLGNBQWMsQ0FBQ2UsT0FBTyxDQUFDSixpQkFBaUI7WUFDMURLLGdCQUFnQkY7UUFDbEI7SUFDRjtJQUVBOztHQUVDLEdBQ0QsYUFBYUcsYUFBYWYsTUFBYyxFQUFFZ0IsV0FBbUIsRUFBNEI7UUFDdkYsT0FBTyxNQUFNMUIsT0FBTzJCLFNBQVMsQ0FBQ2xCLE1BQU0sQ0FBQztZQUNuQ0M7WUFDQUMsVUFBVTtZQUNWZTtRQUNGO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE9BQU9FLHNCQUNMQyxPQUF3QixFQUN4QkMsU0FBaUIsRUFDakJDLGNBQXNCLEVBQ1I7UUFDZCxPQUFPL0IsT0FBT2dDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDSixTQUFTQyxXQUFXQztJQUM1RDtBQUNGO0FBRWtCO0FBQ1gsTUFBTUcsZ0JBQWdCN0IsY0FBYztBQUMzQyxpRUFBZUEsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NhbWNob3UvU3dlZXBzdGFrZXMgR29vZ2xlIEV4dGVuc2lvbi9zaG9wc3Bpbi1zZXJ2ZXIvc3JjL2xpYi9zdHJpcGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0cmlwZSBmcm9tICdzdHJpcGUnO1xuXG5jb25zdCBzdHJpcGUgPSBuZXcgU3RyaXBlKHByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZISwge1xuICBhcGlWZXJzaW9uOiAnMjAyNC0xMi0xOC5hY2FjaWEnLFxufSk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudEludGVudFJlcXVlc3Qge1xuICBhbW91bnQ6IG51bWJlcjsgLy8gaW4gY2VudHNcbiAgY3VycmVuY3k6IHN0cmluZztcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRNZXRob2RSZXF1ZXN0IHtcbiAgY3VzdG9tZXJJZDogc3RyaW5nO1xuICBwYXltZW50TWV0aG9kSWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFN0cmlwZVNlcnZpY2Uge1xuICAvKipcbiAgICogQ3JlYXRlIGEgcGF5bWVudCBpbnRlbnQgZm9yIGEgc3Rha2UgYW1vdW50XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlUGF5bWVudEludGVudChwYXJhbXM6IFBheW1lbnRJbnRlbnRSZXF1ZXN0KTogUHJvbWlzZTxTdHJpcGUuUGF5bWVudEludGVudD4ge1xuICAgIHJldHVybiBhd2FpdCBzdHJpcGUucGF5bWVudEludGVudHMuY3JlYXRlKHtcbiAgICAgIGFtb3VudDogcGFyYW1zLmFtb3VudCxcbiAgICAgIGN1cnJlbmN5OiBwYXJhbXMuY3VycmVuY3ksXG4gICAgICBtZXRhZGF0YTogcGFyYW1zLm1ldGFkYXRhIHx8IHt9LFxuICAgICAgcGF5bWVudF9tZXRob2RfdHlwZXM6IFsnY2FyZCddLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGN1c3RvbWVyIGZvciBzdG9yaW5nIHBheW1lbnQgbWV0aG9kc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUN1c3RvbWVyKGVtYWlsOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8U3RyaXBlLkN1c3RvbWVyPiB7XG4gICAgcmV0dXJuIGF3YWl0IHN0cmlwZS5jdXN0b21lcnMuY3JlYXRlKHtcbiAgICAgIGVtYWlsLFxuICAgICAgbmFtZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBhIHBheW1lbnQgaW50ZW50XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0UGF5bWVudEludGVudChwYXltZW50SW50ZW50SWQ6IHN0cmluZyk6IFByb21pc2U8U3RyaXBlLlBheW1lbnRJbnRlbnQ+IHtcbiAgICByZXR1cm4gYXdhaXQgc3RyaXBlLnBheW1lbnRJbnRlbnRzLnJldHJpZXZlKHBheW1lbnRJbnRlbnRJZCk7XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlybSBhIHBheW1lbnQgaW50ZW50XG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY29uZmlybVBheW1lbnRJbnRlbnQoXG4gICAgcGF5bWVudEludGVudElkOiBzdHJpbmcsXG4gICAgcGF5bWVudE1ldGhvZElkOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxTdHJpcGUuUGF5bWVudEludGVudD4ge1xuICAgIHJldHVybiBhd2FpdCBzdHJpcGUucGF5bWVudEludGVudHMuY29uZmlybShwYXltZW50SW50ZW50SWQsIHtcbiAgICAgIHBheW1lbnRfbWV0aG9kOiBwYXltZW50TWV0aG9kSWQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgcGF5b3V0IGZvciB3aW5uaW5ncyAocmVxdWlyZXMgU3RyaXBlIENvbm5lY3QpXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlUGF5b3V0KGFtb3VudDogbnVtYmVyLCBkZXN0aW5hdGlvbjogc3RyaW5nKTogUHJvbWlzZTxTdHJpcGUuVHJhbnNmZXI+IHtcbiAgICByZXR1cm4gYXdhaXQgc3RyaXBlLnRyYW5zZmVycy5jcmVhdGUoe1xuICAgICAgYW1vdW50LFxuICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgZGVzdGluYXRpb24sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0IHdlYmhvb2sgZXZlbnRcbiAgICovXG4gIHN0YXRpYyBjb25zdHJ1Y3RXZWJob29rRXZlbnQoXG4gICAgcGF5bG9hZDogc3RyaW5nIHwgQnVmZmVyLFxuICAgIHNpZ25hdHVyZTogc3RyaW5nLFxuICAgIGVuZHBvaW50U2VjcmV0OiBzdHJpbmdcbiAgKTogU3RyaXBlLkV2ZW50IHtcbiAgICByZXR1cm4gc3RyaXBlLndlYmhvb2tzLmNvbnN0cnVjdEV2ZW50KHBheWxvYWQsIHNpZ25hdHVyZSwgZW5kcG9pbnRTZWNyZXQpO1xuICB9XG59XG5cbmV4cG9ydCB7IHN0cmlwZSB9O1xuZXhwb3J0IGNvbnN0IHN0cmlwZVNlcnZpY2UgPSBTdHJpcGVTZXJ2aWNlO1xuZXhwb3J0IGRlZmF1bHQgU3RyaXBlU2VydmljZTsiXSwibmFtZXMiOlsiU3RyaXBlIiwic3RyaXBlIiwicHJvY2VzcyIsImVudiIsIlNUUklQRV9TRUNSRVRfS0VZIiwiYXBpVmVyc2lvbiIsIlN0cmlwZVNlcnZpY2UiLCJjcmVhdGVQYXltZW50SW50ZW50IiwicGFyYW1zIiwicGF5bWVudEludGVudHMiLCJjcmVhdGUiLCJhbW91bnQiLCJjdXJyZW5jeSIsIm1ldGFkYXRhIiwicGF5bWVudF9tZXRob2RfdHlwZXMiLCJjcmVhdGVDdXN0b21lciIsImVtYWlsIiwibmFtZSIsImN1c3RvbWVycyIsImdldFBheW1lbnRJbnRlbnQiLCJwYXltZW50SW50ZW50SWQiLCJyZXRyaWV2ZSIsImNvbmZpcm1QYXltZW50SW50ZW50IiwicGF5bWVudE1ldGhvZElkIiwiY29uZmlybSIsInBheW1lbnRfbWV0aG9kIiwiY3JlYXRlUGF5b3V0IiwiZGVzdGluYXRpb24iLCJ0cmFuc2ZlcnMiLCJjb25zdHJ1Y3RXZWJob29rRXZlbnQiLCJwYXlsb2FkIiwic2lnbmF0dXJlIiwiZW5kcG9pbnRTZWNyZXQiLCJ3ZWJob29rcyIsImNvbnN0cnVjdEV2ZW50Iiwic3RyaXBlU2VydmljZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/stripe.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validation.ts":
/*!*******************************!*\
  !*** ./src/lib/validation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError),\n/* harmony export */   sanitizeString: () => (/* binding */ sanitizeString),\n/* harmony export */   validateAddress: () => (/* binding */ validateAddress),\n/* harmony export */   validateEmail: () => (/* binding */ validateEmail),\n/* harmony export */   validateName: () => (/* binding */ validateName),\n/* harmony export */   validatePhone: () => (/* binding */ validatePhone),\n/* harmony export */   validateProbability: () => (/* binding */ validateProbability),\n/* harmony export */   validateProduct: () => (/* binding */ validateProduct),\n/* harmony export */   validateStakeAmount: () => (/* binding */ validateStakeAmount)\n/* harmony export */ });\n// Input validation utilities\nclass ValidationError extends Error {\n    constructor(message){\n        super(message);\n        this.name = 'ValidationError';\n    }\n}\nfunction validateEmail(email) {\n    if (!email || typeof email !== 'string') {\n        throw new ValidationError('Email is required');\n    }\n    if (email.length > 254) {\n        throw new ValidationError('Email is too long');\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n        throw new ValidationError('Invalid email format');\n    }\n}\nfunction validateName(name) {\n    if (!name || typeof name !== 'string') {\n        throw new ValidationError('Name is required');\n    }\n    if (name.length < 1 || name.length > 100) {\n        throw new ValidationError('Name must be between 1 and 100 characters');\n    }\n    // Basic sanitization - remove potentially harmful characters\n    if (/[<>\\\"'&]/.test(name)) {\n        throw new ValidationError('Name contains invalid characters');\n    }\n}\nfunction validateAddress(address) {\n    if (!address || typeof address !== 'object') {\n        throw new ValidationError('Address is required');\n    }\n    const required = [\n        'street',\n        'city',\n        'state',\n        'zipCode',\n        'country'\n    ];\n    for (const field of required){\n        if (!address[field] || typeof address[field] !== 'string') {\n            throw new ValidationError(`Address ${field} is required`);\n        }\n        if (address[field].length > 100) {\n            throw new ValidationError(`Address ${field} is too long`);\n        }\n        // Basic sanitization\n        if (/[<>\\\"'&]/.test(address[field])) {\n            throw new ValidationError(`Address ${field} contains invalid characters`);\n        }\n    }\n    // Enhanced ZIP code validation by country\n    if (address.country === 'United States') {\n        // US ZIP codes: 12345 or 12345-6789\n        if (!/^\\d{5}(-\\d{4})?$/.test(address.zipCode)) {\n            throw new ValidationError('Invalid US ZIP code format (should be 12345 or 12345-6789)');\n        }\n    } else if (address.country === 'Canada') {\n        // Canadian postal codes: A1A 1A1\n        if (!/^[A-Za-z]\\d[A-Za-z] \\d[A-Za-z]\\d$/.test(address.zipCode)) {\n            throw new ValidationError('Invalid Canadian postal code format (should be A1A 1A1)');\n        }\n    } else {\n        // Generic validation for other countries\n        if (!/^[A-Za-z0-9\\s-]{3,12}$/.test(address.zipCode)) {\n            throw new ValidationError('Invalid postal code format');\n        }\n    }\n    // Enhanced state validation for US addresses\n    if (address.country === 'United States') {\n        const validStates = [\n            'AL',\n            'AK',\n            'AZ',\n            'AR',\n            'CA',\n            'CO',\n            'CT',\n            'DE',\n            'FL',\n            'GA',\n            'HI',\n            'ID',\n            'IL',\n            'IN',\n            'IA',\n            'KS',\n            'KY',\n            'LA',\n            'ME',\n            'MD',\n            'MA',\n            'MI',\n            'MN',\n            'MS',\n            'MO',\n            'MT',\n            'NE',\n            'NV',\n            'NH',\n            'NJ',\n            'NM',\n            'NY',\n            'NC',\n            'ND',\n            'OH',\n            'OK',\n            'OR',\n            'PA',\n            'RI',\n            'SC',\n            'SD',\n            'TN',\n            'TX',\n            'UT',\n            'VT',\n            'VA',\n            'WA',\n            'WV',\n            'WI',\n            'WY',\n            'DC' // District of Columbia\n        ];\n        if (!validStates.includes(address.state.toUpperCase())) {\n            throw new ValidationError('Invalid US state code (use 2-letter abbreviation like CA, NY, TX)');\n        }\n    }\n    // Basic address format validation\n    if (address.street.length < 5) {\n        throw new ValidationError('Street address seems too short to be valid');\n    }\n    if (address.city.length < 2) {\n        throw new ValidationError('City name seems too short to be valid');\n    }\n    // Check for obviously fake addresses\n    const suspiciousPatterns = [\n        /test|fake|invalid|example|dummy/i,\n        /123.*main.*st/i,\n        /111.*111|222.*222|999.*999/i\n    ];\n    for (const pattern of suspiciousPatterns){\n        if (pattern.test(address.street) || pattern.test(address.city)) {\n            throw new ValidationError('Please provide a valid, real address for shipping');\n        }\n    }\n}\nfunction validatePhone(phone) {\n    if (phone) {\n        if (typeof phone !== 'string') {\n            throw new ValidationError('Phone must be a string');\n        }\n        if (phone.length > 20) {\n            throw new ValidationError('Phone number is too long');\n        }\n        // Allow digits, spaces, dashes, parentheses, plus sign\n        if (!/^[\\d\\s\\-\\(\\)\\+]+$/.test(phone)) {\n            throw new ValidationError('Invalid phone number format');\n        }\n    }\n}\nfunction validateStakeAmount(stake, productPrice) {\n    if (typeof stake !== 'number' || isNaN(stake)) {\n        throw new ValidationError('Stake must be a valid number');\n    }\n    if (stake < 0.01) {\n        throw new ValidationError('Minimum stake is $0.01');\n    }\n    if (stake > 10000) {\n        throw new ValidationError('Maximum stake is $10,000');\n    }\n    if (stake > productPrice) {\n        throw new ValidationError('Stake cannot exceed product price');\n    }\n}\nfunction validateProduct(product) {\n    if (!product || typeof product !== 'object') {\n        throw new ValidationError('Product is required');\n    }\n    if (!product.name || typeof product.name !== 'string') {\n        throw new ValidationError('Product name is required');\n    }\n    if (product.name.length > 500) {\n        throw new ValidationError('Product name is too long');\n    }\n    if (typeof product.price !== 'number' || isNaN(product.price)) {\n        throw new ValidationError('Product price must be a valid number');\n    }\n    if (product.price < 0.01 || product.price > 100000) {\n        throw new ValidationError('Product price must be between $0.01 and $100,000');\n    }\n    if (!product.currency || typeof product.currency !== 'string') {\n        throw new ValidationError('Product currency is required');\n    }\n    if (product.currency !== 'USD') {\n        throw new ValidationError('Only USD currency is supported');\n    }\n    if (!product.url || typeof product.url !== 'string') {\n        throw new ValidationError('Product URL is required');\n    }\n    try {\n        new URL(product.url);\n    } catch  {\n        throw new ValidationError('Invalid product URL');\n    }\n    if (product.image && typeof product.image !== 'string') {\n        throw new ValidationError('Product image must be a string');\n    }\n    if (product.image) {\n        try {\n            new URL(product.image);\n        } catch  {\n            throw new ValidationError('Invalid product image URL');\n        }\n    }\n}\nfunction validateProbability(probability) {\n    if (typeof probability !== 'number' || isNaN(probability)) {\n        throw new ValidationError('Probability must be a valid number');\n    }\n    if (probability < 0 || probability > 1) {\n        throw new ValidationError('Probability must be between 0 and 1');\n    }\n}\nfunction sanitizeString(input) {\n    return input.replace(/[<>\\\"'&]/g, '') // Remove potentially harmful characters\n    .trim().slice(0, 1000); // Limit length\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQjtJQUM1QjtJQUVBLElBQUk7UUFDRixJQUFJb0MsSUFBSUosUUFBUUcsR0FBRztJQUNyQixFQUFFLE9BQU07UUFDTixNQUFNLElBQUluQyxnQkFBZ0I7SUFDNUI7SUFFQSxJQUFJZ0MsUUFBUUssS0FBSyxJQUFJLE9BQU9MLFFBQVFLLEtBQUssS0FBSyxVQUFVO1FBQ3RELE1BQU0sSUFBSXJDLGdCQUFnQjtJQUM1QjtJQUVBLElBQUlnQyxRQUFRSyxLQUFLLEVBQUU7UUFDakIsSUFBSTtZQUNGLElBQUlELElBQUlKLFFBQVFLLEtBQUs7UUFDdkIsRUFBRSxPQUFNO1lBQ04sTUFBTSxJQUFJckMsZ0JBQWdCO1FBQzVCO0lBQ0Y7QUFDRjtBQUVPLFNBQVNzQyxvQkFBb0JDLFdBQW1CO0lBQ3JELElBQUksT0FBT0EsZ0JBQWdCLFlBQVlULE1BQU1TLGNBQWM7UUFDekQsTUFBTSxJQUFJdkMsZ0JBQWdCO0lBQzVCO0lBRUEsSUFBSXVDLGNBQWMsS0FBS0EsY0FBYyxHQUFHO1FBQ3RDLE1BQU0sSUFBSXZDLGdCQUFnQjtJQUM1QjtBQUNGO0FBRU8sU0FBU3dDLGVBQWVDLEtBQWE7SUFDMUMsT0FBT0EsTUFDSkMsT0FBTyxDQUFDLGFBQWEsSUFBSSx3Q0FBd0M7S0FDakVDLElBQUksR0FDSkMsS0FBSyxDQUFDLEdBQUcsT0FBTyxlQUFlO0FBQ3BDIiwic291cmNlcyI6WyIvVXNlcnMvc2FtY2hvdS9Td2VlcHN0YWtlcyBHb29nbGUgRXh0ZW5zaW9uL3Nob3BzcGluLXNlcnZlci9zcmMvbGliL3ZhbGlkYXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW5wdXQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcblxuZXhwb3J0IGNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ1ZhbGlkYXRpb25FcnJvcic7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoZW1haWw6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoIWVtYWlsIHx8IHR5cGVvZiBlbWFpbCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdFbWFpbCBpcyByZXF1aXJlZCcpO1xuICB9XG4gIFxuICBpZiAoZW1haWwubGVuZ3RoID4gMjU0KSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignRW1haWwgaXMgdG9vIGxvbmcnKTtcbiAgfVxuICBcbiAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICBpZiAoIWVtYWlsUmVnZXgudGVzdChlbWFpbCkpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdJbnZhbGlkIGVtYWlsIGZvcm1hdCcpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGlmICghbmFtZSB8fCB0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdOYW1lIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIGlmIChuYW1lLmxlbmd0aCA8IDEgfHwgbmFtZS5sZW5ndGggPiAxMDApIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdOYW1lIG11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMDAgY2hhcmFjdGVycycpO1xuICB9XG4gIFxuICAvLyBCYXNpYyBzYW5pdGl6YXRpb24gLSByZW1vdmUgcG90ZW50aWFsbHkgaGFybWZ1bCBjaGFyYWN0ZXJzXG4gIGlmICgvWzw+XFxcIicmXS8udGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ05hbWUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQWRkcmVzcyhhZGRyZXNzOiBhbnkpOiB2b2lkIHtcbiAgaWYgKCFhZGRyZXNzIHx8IHR5cGVvZiBhZGRyZXNzICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0FkZHJlc3MgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBcbiAgY29uc3QgcmVxdWlyZWQgPSBbJ3N0cmVldCcsICdjaXR5JywgJ3N0YXRlJywgJ3ppcENvZGUnLCAnY291bnRyeSddO1xuICBmb3IgKGNvbnN0IGZpZWxkIG9mIHJlcXVpcmVkKSB7XG4gICAgaWYgKCFhZGRyZXNzW2ZpZWxkXSB8fCB0eXBlb2YgYWRkcmVzc1tmaWVsZF0gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGBBZGRyZXNzICR7ZmllbGR9IGlzIHJlcXVpcmVkYCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChhZGRyZXNzW2ZpZWxkXS5sZW5ndGggPiAxMDApIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYEFkZHJlc3MgJHtmaWVsZH0gaXMgdG9vIGxvbmdgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQmFzaWMgc2FuaXRpemF0aW9uXG4gICAgaWYgKC9bPD5cXFwiJyZdLy50ZXN0KGFkZHJlc3NbZmllbGRdKSkge1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgQWRkcmVzcyAke2ZpZWxkfSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnNgKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEVuaGFuY2VkIFpJUCBjb2RlIHZhbGlkYXRpb24gYnkgY291bnRyeVxuICBpZiAoYWRkcmVzcy5jb3VudHJ5ID09PSAnVW5pdGVkIFN0YXRlcycpIHtcbiAgICAvLyBVUyBaSVAgY29kZXM6IDEyMzQ1IG9yIDEyMzQ1LTY3ODlcbiAgICBpZiAoIS9eXFxkezV9KC1cXGR7NH0pPyQvLnRlc3QoYWRkcmVzcy56aXBDb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignSW52YWxpZCBVUyBaSVAgY29kZSBmb3JtYXQgKHNob3VsZCBiZSAxMjM0NSBvciAxMjM0NS02Nzg5KScpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhZGRyZXNzLmNvdW50cnkgPT09ICdDYW5hZGEnKSB7XG4gICAgLy8gQ2FuYWRpYW4gcG9zdGFsIGNvZGVzOiBBMUEgMUExXG4gICAgaWYgKCEvXltBLVphLXpdXFxkW0EtWmEtel0gXFxkW0EtWmEtel1cXGQkLy50ZXN0KGFkZHJlc3MuemlwQ29kZSkpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0ludmFsaWQgQ2FuYWRpYW4gcG9zdGFsIGNvZGUgZm9ybWF0IChzaG91bGQgYmUgQTFBIDFBMSknKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gR2VuZXJpYyB2YWxpZGF0aW9uIGZvciBvdGhlciBjb3VudHJpZXNcbiAgICBpZiAoIS9eW0EtWmEtejAtOVxccy1dezMsMTJ9JC8udGVzdChhZGRyZXNzLnppcENvZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdJbnZhbGlkIHBvc3RhbCBjb2RlIGZvcm1hdCcpO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gRW5oYW5jZWQgc3RhdGUgdmFsaWRhdGlvbiBmb3IgVVMgYWRkcmVzc2VzXG4gIGlmIChhZGRyZXNzLmNvdW50cnkgPT09ICdVbml0ZWQgU3RhdGVzJykge1xuICAgIGNvbnN0IHZhbGlkU3RhdGVzID0gW1xuICAgICAgJ0FMJywgJ0FLJywgJ0FaJywgJ0FSJywgJ0NBJywgJ0NPJywgJ0NUJywgJ0RFJywgJ0ZMJywgJ0dBJyxcbiAgICAgICdISScsICdJRCcsICdJTCcsICdJTicsICdJQScsICdLUycsICdLWScsICdMQScsICdNRScsICdNRCcsXG4gICAgICAnTUEnLCAnTUknLCAnTU4nLCAnTVMnLCAnTU8nLCAnTVQnLCAnTkUnLCAnTlYnLCAnTkgnLCAnTkonLFxuICAgICAgJ05NJywgJ05ZJywgJ05DJywgJ05EJywgJ09IJywgJ09LJywgJ09SJywgJ1BBJywgJ1JJJywgJ1NDJyxcbiAgICAgICdTRCcsICdUTicsICdUWCcsICdVVCcsICdWVCcsICdWQScsICdXQScsICdXVicsICdXSScsICdXWScsXG4gICAgICAnREMnIC8vIERpc3RyaWN0IG9mIENvbHVtYmlhXG4gICAgXTtcbiAgICBcbiAgICBpZiAoIXZhbGlkU3RhdGVzLmluY2x1ZGVzKGFkZHJlc3Muc3RhdGUudG9VcHBlckNhc2UoKSkpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0ludmFsaWQgVVMgc3RhdGUgY29kZSAodXNlIDItbGV0dGVyIGFiYnJldmlhdGlvbiBsaWtlIENBLCBOWSwgVFgpJyk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBCYXNpYyBhZGRyZXNzIGZvcm1hdCB2YWxpZGF0aW9uXG4gIGlmIChhZGRyZXNzLnN0cmVldC5sZW5ndGggPCA1KSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignU3RyZWV0IGFkZHJlc3Mgc2VlbXMgdG9vIHNob3J0IHRvIGJlIHZhbGlkJyk7XG4gIH1cbiAgXG4gIGlmIChhZGRyZXNzLmNpdHkubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0NpdHkgbmFtZSBzZWVtcyB0b28gc2hvcnQgdG8gYmUgdmFsaWQnKTtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIG9idmlvdXNseSBmYWtlIGFkZHJlc3Nlc1xuICBjb25zdCBzdXNwaWNpb3VzUGF0dGVybnMgPSBbXG4gICAgL3Rlc3R8ZmFrZXxpbnZhbGlkfGV4YW1wbGV8ZHVtbXkvaSxcbiAgICAvMTIzLiptYWluLipzdC9pLFxuICAgIC8xMTEuKjExMXwyMjIuKjIyMnw5OTkuKjk5OS9pXG4gIF07XG4gIFxuICBmb3IgKGNvbnN0IHBhdHRlcm4gb2Ygc3VzcGljaW91c1BhdHRlcm5zKSB7XG4gICAgaWYgKHBhdHRlcm4udGVzdChhZGRyZXNzLnN0cmVldCkgfHwgcGF0dGVybi50ZXN0KGFkZHJlc3MuY2l0eSkpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQsIHJlYWwgYWRkcmVzcyBmb3Igc2hpcHBpbmcnKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGhvbmUocGhvbmU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKHBob25lKSB7XG4gICAgaWYgKHR5cGVvZiBwaG9uZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1Bob25lIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHBob25lLmxlbmd0aCA+IDIwKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdQaG9uZSBudW1iZXIgaXMgdG9vIGxvbmcnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWxsb3cgZGlnaXRzLCBzcGFjZXMsIGRhc2hlcywgcGFyZW50aGVzZXMsIHBsdXMgc2lnblxuICAgIGlmICghL15bXFxkXFxzXFwtXFwoXFwpXFwrXSskLy50ZXN0KHBob25lKSkge1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignSW52YWxpZCBwaG9uZSBudW1iZXIgZm9ybWF0Jyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVN0YWtlQW1vdW50KHN0YWtlOiBudW1iZXIsIHByb2R1Y3RQcmljZTogbnVtYmVyKTogdm9pZCB7XG4gIGlmICh0eXBlb2Ygc3Rha2UgIT09ICdudW1iZXInIHx8IGlzTmFOKHN0YWtlKSkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1N0YWtlIG11c3QgYmUgYSB2YWxpZCBudW1iZXInKTtcbiAgfVxuICBcbiAgaWYgKHN0YWtlIDwgMC4wMSkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ01pbmltdW0gc3Rha2UgaXMgJDAuMDEnKTtcbiAgfVxuICBcbiAgaWYgKHN0YWtlID4gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdNYXhpbXVtIHN0YWtlIGlzICQxMCwwMDAnKTtcbiAgfVxuICBcbiAgaWYgKHN0YWtlID4gcHJvZHVjdFByaWNlKSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignU3Rha2UgY2Fubm90IGV4Y2VlZCBwcm9kdWN0IHByaWNlJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUHJvZHVjdChwcm9kdWN0OiBhbnkpOiB2b2lkIHtcbiAgaWYgKCFwcm9kdWN0IHx8IHR5cGVvZiBwcm9kdWN0ICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1Byb2R1Y3QgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBcbiAgaWYgKCFwcm9kdWN0Lm5hbWUgfHwgdHlwZW9mIHByb2R1Y3QubmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdQcm9kdWN0IG5hbWUgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBcbiAgaWYgKHByb2R1Y3QubmFtZS5sZW5ndGggPiA1MDApIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdQcm9kdWN0IG5hbWUgaXMgdG9vIGxvbmcnKTtcbiAgfVxuICBcbiAgaWYgKHR5cGVvZiBwcm9kdWN0LnByaWNlICE9PSAnbnVtYmVyJyB8fCBpc05hTihwcm9kdWN0LnByaWNlKSkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1Byb2R1Y3QgcHJpY2UgbXVzdCBiZSBhIHZhbGlkIG51bWJlcicpO1xuICB9XG4gIFxuICBpZiAocHJvZHVjdC5wcmljZSA8IDAuMDEgfHwgcHJvZHVjdC5wcmljZSA+IDEwMDAwMCkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1Byb2R1Y3QgcHJpY2UgbXVzdCBiZSBiZXR3ZWVuICQwLjAxIGFuZCAkMTAwLDAwMCcpO1xuICB9XG4gIFxuICBpZiAoIXByb2R1Y3QuY3VycmVuY3kgfHwgdHlwZW9mIHByb2R1Y3QuY3VycmVuY3kgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignUHJvZHVjdCBjdXJyZW5jeSBpcyByZXF1aXJlZCcpO1xuICB9XG4gIFxuICBpZiAocHJvZHVjdC5jdXJyZW5jeSAhPT0gJ1VTRCcpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdPbmx5IFVTRCBjdXJyZW5jeSBpcyBzdXBwb3J0ZWQnKTtcbiAgfVxuICBcbiAgaWYgKCFwcm9kdWN0LnVybCB8fCB0eXBlb2YgcHJvZHVjdC51cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignUHJvZHVjdCBVUkwgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHByb2R1Y3QudXJsKTtcbiAgfSBjYXRjaCB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignSW52YWxpZCBwcm9kdWN0IFVSTCcpO1xuICB9XG4gIFxuICBpZiAocHJvZHVjdC5pbWFnZSAmJiB0eXBlb2YgcHJvZHVjdC5pbWFnZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdQcm9kdWN0IGltYWdlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuICBcbiAgaWYgKHByb2R1Y3QuaW1hZ2UpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IFVSTChwcm9kdWN0LmltYWdlKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0ludmFsaWQgcHJvZHVjdCBpbWFnZSBVUkwnKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUHJvYmFiaWxpdHkocHJvYmFiaWxpdHk6IG51bWJlcik6IHZvaWQge1xuICBpZiAodHlwZW9mIHByb2JhYmlsaXR5ICE9PSAnbnVtYmVyJyB8fCBpc05hTihwcm9iYWJpbGl0eSkpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdQcm9iYWJpbGl0eSBtdXN0IGJlIGEgdmFsaWQgbnVtYmVyJyk7XG4gIH1cbiAgXG4gIGlmIChwcm9iYWJpbGl0eSA8IDAgfHwgcHJvYmFiaWxpdHkgPiAxKSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignUHJvYmFiaWxpdHkgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVTdHJpbmcoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBpbnB1dFxuICAgIC5yZXBsYWNlKC9bPD5cXFwiJyZdL2csICcnKSAvLyBSZW1vdmUgcG90ZW50aWFsbHkgaGFybWZ1bCBjaGFyYWN0ZXJzXG4gICAgLnRyaW0oKVxuICAgIC5zbGljZSgwLCAxMDAwKTsgLy8gTGltaXQgbGVuZ3RoXG59Il0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwibmFtZSIsInZhbGlkYXRlRW1haWwiLCJlbWFpbCIsImxlbmd0aCIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwidmFsaWRhdGVOYW1lIiwidmFsaWRhdGVBZGRyZXNzIiwiYWRkcmVzcyIsInJlcXVpcmVkIiwiZmllbGQiLCJjb3VudHJ5IiwiemlwQ29kZSIsInZhbGlkU3RhdGVzIiwiaW5jbHVkZXMiLCJzdGF0ZSIsInRvVXBwZXJDYXNlIiwic3RyZWV0IiwiY2l0eSIsInN1c3BpY2lvdXNQYXR0ZXJucyIsInBhdHRlcm4iLCJ2YWxpZGF0ZVBob25lIiwicGhvbmUiLCJ2YWxpZGF0ZVN0YWtlQW1vdW50Iiwic3Rha2UiLCJwcm9kdWN0UHJpY2UiLCJpc05hTiIsInZhbGlkYXRlUHJvZHVjdCIsInByb2R1Y3QiLCJwcmljZSIsImN1cnJlbmN5IiwidXJsIiwiVVJMIiwiaW1hZ2UiLCJ2YWxpZGF0ZVByb2JhYmlsaXR5IiwicHJvYmFiaWxpdHkiLCJzYW5pdGl6ZVN0cmluZyIsImlucHV0IiwicmVwbGFjZSIsInRyaW0iLCJzbGljZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validation.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/stripe","vendor-chunks/next","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/qs","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/object-inspect","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/side-channel","vendor-chunks/side-channel-weakmap","vendor-chunks/side-channel-map","vendor-chunks/side-channel-list","vendor-chunks/hasown","vendor-chunks/get-intrinsic","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/call-bound"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpayments%2Fcreate-intent%2Froute&page=%2Fapi%2Fpayments%2Fcreate-intent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayments%2Fcreate-intent%2Froute.ts&appDir=%2FUsers%2Fsamchou%2FSweepstakes%20Google%20Extension%2Fshopspin-server%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamchou%2FSweepstakes%20Google%20Extension%2Fshopspin-server&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();